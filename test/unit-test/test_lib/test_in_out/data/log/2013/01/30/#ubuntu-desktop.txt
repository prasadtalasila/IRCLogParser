[00:01] <robru> attente, ok, so I have some kind of issue here where gnome-settings won't load any panels, and also won't exit. if I click on the x, the window disappears for a second but then pops right back up, and if I try to click on any of the panels, none of them load
[00:06] <robru> attente, `killall gnome-settings-daemon` made it go away...
[00:08] <robru> attente, also, not reproducible. awesome
[01:50] <attente> eep.
=== Amaranthus is now known as Amaranth
[02:37] <robru> attente, does that sound like it could have been caused by your thing? not even sure what caused it
[02:42] <attente> robru: i'm somewhat doubting it
[02:42] <robru> attente, yeah, no idea. I was fiddling with deja-dup at the time, maybe it's mterry's fault ;-)
[02:43] <attente> heh, enough blame to go around i suppose
=== m_conley_away is now known as m_conley
=== m_conley is now known as m_conley_away
[04:58] <pitti> Good morning
[05:28] <desrt> pitti: hi!!
[05:28] <desrt> pitti: coming to brussels?
[05:28] <pitti> heya desrt
[05:28] <pitti> desrt: I am, yes
[05:29] <desrt> cool :)
[05:29] <desrt> today or for the weekend?
[05:30] <pitti> desrt: Saturday morning only, I still have some stuff here this week
[05:39] <pitti> desrt: you are at the hackfest already?
[05:40] <desrt> ya
[05:40] <desrt> well
[05:40] <desrt> in the hotel now, a bit jetlagged
[07:50] <ritz> hi, does canonical have any plan to use mutter ?
[07:53] <bochecha_> sil2100: hi, quick question, could you paste the fixed code from yesterday in #ibus, where you were trying to get signals from ibus? I'm wondering if I could use something similar for unit testing my ibus engine :)
[07:55] <sil2100> bochecha_: sure!
[08:28] <seb128> hey desktopers
[08:41] <robru> hey seb128 !
[08:47] <seb128> robru, hey "the man who never sleeps" ;-)
[08:47] <robru> seb128, I wish that were true ;-)
[08:47] <robru> More like "the man who sleeps at inconvenient times" ;-)
[08:48] <seb128> hehe, been there! ;-)
[08:56] <desrt> hello europeans!
[08:56] <desrt> your timezone is lovely!!
[08:58] <seb128> desrt, hey, glad you enjoy it ;-)
[09:01] <Laney> morning
[09:06] <seb128> Laney, hey, how are you?
[09:07] <Laney> seb128: Good thank you; just burning a 12.04 CD for a friend who had her Windows go belly up yesterday ;-)
[09:07] <Laney> how are you?
[09:08] <seb128> I'm good thanks
[09:18] <czajkowski> morning folks
[09:28] <tkamppeter> I have set Chromium as default browser but Thunderbird is still opening web pages with Firefox. Is this a known bug?
[09:32] <tkamppeter> update-manager correctly opens links with chromium though.
=== vrruiz_ is now known as rvr_
[10:14] <chrisccoulson> good morning
[10:15] <seb128> chrisccoulson, hey, how are you?
[10:15] <chrisccoulson> seb128, yeah, not too bad thanks
[10:15] <chrisccoulson> how are you?
[10:16] <seb128> I'm good thanks
[10:16] <seb128> chrisccoulson, what are you hacking on today? ;-)
[10:17] <chrisccoulson> not sure just yet :)
[10:17] <chrisccoulson> do you have a work queue lined up already? ;)
[10:19] <seb128> chrisccoulson, there is a good pile of items on https://blueprints.launchpad.net/ubuntu/+spec/desktop-r-arm-reduce-footprint
[10:19] <seb128> chrisccoulson, it's self service, feel free to grab some ;-)
[10:35] <chrisccoulson> hmmm, someone down my road must be stealing my bandwidth
[10:35] <chrisccoulson> only 5,075kB/s today
[10:45] <ritz> chrisccoulson http://www.ex-parrot.com/pete/upside-down-ternet.html ?
[10:45] <jibel> chrisccoulson, do FF tests need more than 4GB of hard disk space?
[10:46] <chrisccoulson> jibel, they shouldn't do
[10:48] <jibel> chrisccoulson, to run the tests locally, checkout lp:auto-package-testing
[10:49] <chrisccoulson> jibel, thanks, taking a look now
[10:49] <jibel> chrisccoulson, there is a document USAGE.md that explains how to setup a sandbox and run the tests
[10:50] <jibel> chrisccoulson, basically once you've prepared the testbed you start the tests with: bin/run-adt-test -a amd64 -r raring -p ppa:ubuntu-mozilla-daily/ppa
[10:50] <jibel> and you wait
=== larsu is now known as Guest15091
[10:57] <chrisccoulson> jibel, thanks. i'll give that a try
[11:08] <Laney> c++ symbols files are just pain
[11:08] <seb128> don't use .symbols with it...
[11:09] <Laney> that might be the correct solution ;-)
[11:09] <chrisccoulson> pkgkde-symbolshelper to the rescue
[11:10] <Laney> oh yeah, is that good?
[11:10] <chrisccoulson> i use it for libmozjs, although i have to admit, mbiebl did most of the work to set that up
[11:11] <chrisccoulson> and i can't remember off the top of my head how to do it, but it's quite simple
[11:11] <chrisccoulson> http://pkg-kde.alioth.debian.org/symbolfiles.html
[11:12] <Laney> but but but... my amazing shell pipeline to demangle and sed it all into a working state
[11:12]  * Laney tries it :P
[11:17] <ogra_> cyphermox, how the heck did you find out about the -J option for getty ? it doesnt seem to be documented anywhere (manpage, --help etc dont show it)
[11:21] <seb128> Laney, chrisccoulson: the most annoying part is when the mangling is slightly different between archs and your amd64 made .symbols fails the build on armfh
[11:22] <seb128> Laney, chrisccoulson: I think didrocks played with pkgkde-symbolshelper by then for unity stuff and just gave up at the end, there was always issues
[11:24] <chrisccoulson> seb128, yeah, i guess it's easier for libraries that don't change their public symbols a lot
[11:25] <chrisccoulson> jibel, if i provided test results in junit xml, would jenkins show failures without my test suite having to exit with a non-zero exit code?
[11:30] <jibel> chrisccoulson, publication of junit test results is not enabled for autopkgtest, but that's something we could add.
[11:31] <jibel> chrisccoulson, if FF testsuite already generates junit result files, I can do it for your PPA
[11:32] <chrisccoulson> jibel, i think there is only 1 test suite that currently is able to do that. i'd need to add support for the others
[11:37] <psivaa> seb128: Is there any update on fixing bug 1105102 ?
[11:37] <ubot2> Launchpad bug 1105102 in glib2.0 (Ubuntu) "dconf-service crashed with SIGSEGV in g_variant_builder_add_value()" [High,Confirmed] https://launchpad.net/bugs/1105102
[11:37] <seb128> psivaa, no, is it an important issue? is that breaking any user?
[11:38] <seb128> psivaa, I see it in a guest session on login, it slows a bit login for new users but should break anything after that?
[11:39] <psivaa> seb128: No. Only that its impacting a lot of users and it occurs regularly.
[11:39] <seb128> psivaa, how impact them (out of apport ui showing)?
[11:41]  * ogra_ hugs cyphermox ... just compiled brcm-patchram-plus from the NEW queue and my BT devices all seem to work fine !
[11:42] <psivaa> seb128: well I meant that it's being seen by a lot of users, i dont know how it would 'impact' for continuous usage though
[11:43] <seb128> psivaa, in any case it's a known issue and high on our list, desrt said he would look at it but he's travelling/at an hackfest this week
[11:44] <psivaa> seb128: ok. thank you.
[11:45] <seb128> yw
[11:48] <chrisccoulson> jibel, ok, i need to implement junit support for the reftest and mochitest test suites. that shouldn't be too difficult to do
[11:48] <chrisccoulson> we'll get there eventually :)
[11:50] <lifeless> chrisccoulson: what test runner are you using?
[11:51] <lifeless> chrisccoulson: if you need junit output, and its python, there is a library I wrote - junitxml, in ubuntu or on pypi
[11:51] <lifeless> chrisccoulson: if you have subunit, just pipe through subunit2junitxml
[11:54] <chrisccoulson> lifeless, ah, it's not using any standard test runner. it's the upstream firefox tests, which are all fairly mozilla specific
[12:13] <apw> ogra_, ok i'll get you a new kernel with that third patch on
[12:14] <ogra_> thx !
=== jhernandez is now known as jhernandez|lunch
[12:24] <ogra_> gema, fyi, i'm about to upload some finer grained config for cpufreq for the nexus7 today, you might want to do some comaprative measuring i guess :)
[12:25] <gema> ogra_: ack, how do I go about that?
[12:26] <ogra_> run whatever measurements you ran already and compare if the consumption is less or not ?
[12:26] <ogra_> dunno ...
[12:40] <apw> ogra_, http://people.canonical.com/~apw/master-next-nexus7/linux-image-3.1.10-9-nexus7_3.1.10-9.24~masternext201301301226_armhf.deb
[12:44] <ogra_> apw, thanks, also could we switch from g_serial to g_composite with the next upload ? i have a tester in #ubuntu-arm who claims it works fine for him and we want serial as well as networking (for transfering files)  on the OTG port
[12:44] <apw> ogra_, i have no idea how to do that :)
[12:44] <ogra_> apw, thats USB_CDC_COMPOSITE instead of USB_G_SERIAL
[12:45] <ogra_> in the config
[12:45] <apw> ogra_, i can get you a kernel with that to test, how can i test it
[12:45] <apw> or ... can you test it :)
[12:46] <ogra_> you should be able to use "screen  /dev/ttyACM0 115200" from a PC when connected via USB ... and at the same time you should also see a usb0 device on that PC when connected
[12:46] <ogra_> and yeah, i can indeed test it :)
[12:46] <apw> usb0 of type 'network' in this case
[12:46] <ogra_> right
[12:46] <ogra_> that gadget driver porovides both at the same time
[12:47] <ogra_> so in the future we could have a samba setup on the nexus so poeple can excange data
[12:47] <ogra_> and at the same time still have serial debugging consoles
[12:49] <apw> so as it is i do not have anything on ACM0 is that expected ?
[12:49] <ogra_> hit enter
[12:50] <apw> still nothing
[12:50] <ogra_> hmm
[12:50] <ogra_> works here, though i heard from people that had to log in blind
[12:51] <apw> ogra_, is that ttyGS0 on the other end
[12:51] <ogra_> right
[12:51] <ogra_> you should see a getty in your processlist
[12:52] <ogra_> one thats rather going wild atm (just uploaded a fix for it)
[12:53] <apw> root     31119     1  0 09:42 ttyGS0   00:00:00 /sbin/getty 115200 ttyGS0
[12:53] <apw> root     31119     1  0 09:42 ttyGS0   00:00:00 /sbin/getty 115200 ttyGS0
[12:53] <apw> doesn't seem to be unhappy, not doing anything either
[12:54] <apw> oh i have an ACM0 and ACM
[12:54] <apw> ACM1, i wonder what 0 does
[12:54] <apw> ACM0 is not my nexus, who knows what it _is_
[12:56] <ogra_> heh, intresting
[12:56] <ogra_> probably a modem in your machine ?
[12:57] <apw> ogra_, not one i know about ... but hey
[12:57] <ogra_> heh
[12:58] <apw> ogra_, ahhh it is my entropy key
[13:08] <apw> ogra_, _COMPOSITE does not seem to exist
[13:10] <ogra_> USB_CDC_COMPOSITE ... its a choice (radiobutton like)
=== MacSlow is now known as MacSlow|lunch
[13:10] <ogra_> > Device Drivers                                                                                                                                                                                                                                                                                                  │
[13:10] <ogra_>   │       -> USB support (USB_SUPPORT [=y])                                                                                                                                                                                                                                                                                │
[13:10] <ogra_>   │         -> USB Gadget Support (USB_GADGET [=y])                                                                                                                                                                                                                                                                        │
[13:10] <ogra_>   │           -> USB Gadget Drivers (<choice> [=y])
[13:10] <ogra_> thats what i get in editconfig searching for composite
[13:10] <apw> ahh i missread, wazzock
[13:10] <apw> u was kii
[13:10] <apw> was looking for G_
[13:11] <ogra_> ah, heh
[13:11] <ogra_> i wish we could build that as modules
[13:12] <ogra_> but sadly the tegra hacks prevent us
[13:12] <apw> so CDC_COMP... =y is needed, =m is not enough ?
[13:13] <ogra_> right, somehow the power supply and battery drivers are tied deeply into the gardget code
[13:13] <ogra_> and they require =y
[13:14] <apw> sigh ...
[13:14] <apw> with the right exports they could probabally all move =m
[13:14] <apw> but ...
[13:15] <ogra_> apw, testing the patch from above now ... what i just notice is that "Energy when full" in upower seems to be reset every boot instead of using a fixed value from the battery
[13:15] <ogra_> so the 100% are actually a totally variable value
[13:15] <ogra_> i suspect thats the reason for the jumpy behavior
[13:16] <ogra_> apw, every bit that becomes a module gets me nearer to be able to pull plymouth into the initrd ... having them =m would be awesome
[13:17] <apw> ogra_, why does it prevent plymouth?  space ?
[13:17] <ogra_> yep
[13:18] <ogra_> my bootimg cant be beigger than 8M (kernel+initrd+header)
[13:18] <ogra_> currently the kernel is 4.5M
[13:18] <ogra_> and plymouth would turn my initrd into another 4.5M pile
[13:26] <apw> ogra_, ok that does work, i get a TTY and USB0, but it really upsets NM
[13:27] <apw> ogra_, network manager tries to connect to it immediatly
[13:27] <apw> ogra_, is that really what we want to happen by default ?
[13:27] <apw> nm is just cylcing over and over trying to connect
[13:28] <ogra_> apw, well, it shouldnt do any harm to your existing connections and we can quieten NM by shipping some default IP setup on the nexus side i think
[13:29] <apw> ok it does seemed to have given up finally after like 3 attempts
[13:31] <apw> ogra_, http://people.canonical.com/~apw/master-next-nexus7/linux-image-3.1.10-9-nexus7_3.1.10-9.24~masternext201301301314_armhf.deb
[13:31] <apw> ogra_, that should have the gadget change and the other battery thing (3rd patch)
[13:31] <ogra_> great
[13:31] <apw> ogra_, seems to work ish here
[13:32] <ogra_> battery ?
[13:32] <ogra_> https://bugs.launchpad.net/ubuntu-nexus7/+bug/1093543/comments/24
[13:32] <ubot2> Ubuntu bug 1093543 in linux-nexus7 (Ubuntu) "Battery status behaves erratically" [High,Confirmed]
[13:32] <ogra_> see my last comment
[13:32] <apw> ogra_, that i ahve little idea how to test
[13:32] <ogra_> i guess i found the issue
[13:32] <ogra_> not sure yet who is at fault though
[13:33] <apw> so if you reboot with a flat battery you get a teeny battery
[13:33] <apw> ogra_, i may have seem a similar symptom on my laptop now i think about it
[13:33]  * ogra_ wonders when he will have worn out his boot partition on the n7 ...
[13:33] <apw> if the battery is really empty it seems to be not-present for a bit
[13:33] <ogra_> apw, right, it is always at 100% after boot
[13:33] <ogra_> no matter how empty it is
[13:33] <apw> ogra_, shorly before you order another one
[13:33] <ogra_> heh
[13:33] <apw> s/one/two
[13:34] <ogra_> well, i bet others dont flash ten kernels a day
[13:34] <apw> no, even i am averaging 5
[13:34] <apw> oh NM is back, it thinks it should retry, so i am getting OSDs
[13:34] <ogra_> lovely
[13:34] <apw> yeah
[13:35] <ogra_> i guess we can just "ifconfig down usb0" on boot on the n7
[13:35] <ogra_> you can fire it up on demand
=== MacSlow|lunch is now known as MacSlow
[13:35] <apw> mru
[13:36] <apw> have i mentioned i hate unity's focus handling
[13:37] <apw> ogra_, indicator date-time is killing my N7
[13:37] <ogra_> datetime ?
[13:37] <ogra_> how that ?
[13:37] <apw> it may be just being shown cause the load is 14 on here
[13:37] <apw> apport is now killing it
[13:37] <ogra_> ps aux|grep evo
[13:38] <ogra_> check if thats the old lightdm bug
[13:38] <apw> nothing, but then it logged me out too
[13:38] <ogra_> lightdm used to spawn an evo data-server process for its session in the past (though thats supposed to be fixed)
[13:38] <ogra_> wow
[13:38] <ogra_> havent had such stuff heer yet
[13:38] <ogra_> *here
[13:40] <apw> ogra_, ok it 'recovered' and is behabing normally now
[13:40] <ogra_> ok
[13:40] <apw> ogra_, and ifconfig usb0 down, removed "RUNNING" from my desktop and NM now things there is no cable
[13:41] <apw> ifconfig usb0 down on the N7 end
[13:41] <ogra_> ok, i'll add a, upstart job to keep it off on boot
[13:41] <apw> swwet
[13:41] <apw> ogra_, if you could test that kernel for me, and if you are happy i may well upload it
[13:41] <apw> ogra_, unless you have anytyhing else you can think of
[13:42] <ogra_> then we can have a user session upstart job later so you can switch filesharing via USB on and off in the UI :)
[13:42] <apw> ogra_, oh, i guess we are waiting on the testing for the battery part too, ie. does it produce anything else
[13:42] <ogra_> no, but it doesnt do any harm either i think
[13:42] <ogra_> i'd say just upload away
[13:42] <apw> i will be so popular, 3 kernels in 24 hours, and all with half the buildds dead
[13:43] <ogra_> haha
[13:43] <ogra_> well, we should poke our managers to have the next sprint prepared together with IS :)
[13:43] <apw> yeah
[13:44] <apw> ogra_, so i'll hold this till you check the gadget change works to your satisfaction
[13:44] <ogra_> usb0 works fine :)
[13:44] <ogra_> trying screen now
[13:45] <apw> "indicator-datetime-service" closed unexpectedly, your computer does not have enough memory ...
[13:45] <apw> so it cannot report it
[13:46] <ogra_> have you been running anything that could eat all your ram ?
[13:46] <ogra_> apw, serial is fine too
[13:47] <apw> ogra_, that was a fresh login after rebooting to install the kernel, so nothing running other than the normal session bits
[13:47] <ogra_> strange
[13:47] <apw> something i recon i see about one login in 5
[13:47] <apw> ie that one is hugly longer than the others
[13:47] <apw> though i am also cursed, if somethign can blow up, it will for me
[13:50] <mbiebl> chrisccoulson, seb128, Laney: pkgkde-symbolshelper is quite a help, but it's still painful
[13:50] <Laney> I am finding that
[13:51] <mbiebl> not sure again if I would mozjs again with symbols
[13:51] <mbiebl> given that they apparently change the soname with each release anyway :-)
[13:52] <mbiebl> Laney: I think Russ did a pretty good write-up of symbols files for C and C++ libraries
[13:52] <Laney> it just feels terribly brittle
[13:53] <Laney> I can make sure it works for the arches I have access too, but it will undoubtely fail to build on all the others
[13:53] <mbiebl> Laney: well, the idea of pkgkde-symbolshelper is to automate the process
[13:53] <mbiebl> of downloading the build logs and keeping the file updated semi-automatically
[13:54] <Laney> yep
[13:54] <Laney> still feels wasteful
[13:54] <Laney> found http://www.eyrie.org/~eagle/journal/2012-01/008.html
[13:55] <mbiebl> yeah, that's the one
[13:59] <qengho> robru: Awake.  Kid stuff for the next bit, then I'm back to get Panda working. I'm not sure I have a valid image file, or if I'm even dd-ing i correctly (udev may be getting in the way and reassigning devices halfway through).
[13:59] <qengho> AFK BRB LOL
[13:59] <Laney> qengho: robru: There's a valid raring daily today
[13:59] <qengho> Sweet.
[14:04] <chrisccoulson> sigh, -ETOOMANYRANDOMTESTFAILURES
[14:04] <chrisccoulson> what have i let myself in for?
[14:05] <chrisccoulson> jibel, i get less, but different test failures when i run it locally ;)
[14:06] <chrisccoulson> and now a pass on https://jenkins.qa.ubuntu.com/job/raring-ppa-adt-ubuntu_mozilla_daily_ppa-firefox-trunk/ARCH=amd64,label=adt/ without me changing anything :)
[14:06] <apw> ogra_, ok uploading now
=== dpm_ is now known as dpm__
=== dpm is now known as dpm-laptop
=== dpm__ is now known as dpm
[14:36] <cyphermox> ogra_: for -J I went to look at the code
[14:37] <cyphermox> yeah, it doesn't seem to be documented, though I think --noclear might be equivalent
[14:37] <ogra_> really evil that thats not documented anywhere
[14:37] <cyphermox> hehehe
[14:37] <cyphermox> I looked because I didn't understand what the characters it was writing were supposed to do
[14:38] <cyphermox> so while in the code... might as well look at the options right ? :)
[14:38] <ogra_> cyphermox, do you see my question to stgraber in #ubuntu-devel backlog ? you might have a clever idea too (better than mine at least)
[14:39] <cyphermox> hmm
[14:39] <cyphermox> tbh, I'm not sure
[14:39] <cyphermox> oh
[14:39] <cyphermox> seb128: aren't you archive admin?
[14:39] <seb128> cyphermox, I am, why?
[14:40] <cyphermox> could you please review brcm-patchram-plus in the raring queue?
[14:40] <seb128> cyphermox, did that some hours ago?
[14:40] <cyphermox> ah sorry
[14:40] <seb128> no worry ;-)
[14:40] <cyphermox> I hadn't been fast enough to open up firefox to that page yet ;)
[14:40] <cyphermox> thanks!
[14:40] <seb128> yw!
[14:41] <cyphermox> ogra_: did you update ubuntu-defaults-nexus7 for it too?
[14:41] <ogra_> cyphermox, i added a recommends
[14:42] <cyphermox> cool
[14:42] <cyphermox> so tomorrow's image is going to really rock :)
[14:48] <chrisccoulson> is there a way to tell metacity to always give focus to any windows that open?
[14:49] <chrisccoulson> i suspect at least some of these random firefox test failures are windows not getting focus :(
[15:28] <Lionthinker> Hi guys is this the right place to query getting a new app into default apps like say an rss reader?
[15:35] <qengho> Hah.  I have a directory, "/nonexistent".  That seems like a bad sign.
[15:37] <desrt> qengho: interesting.  i think that's the ~ of some system users...
[15:38] <Laney> I can imagine that leaking out of a package build
[15:38] <qengho> mtime 2012, owned by (current user) memcache.  So werid.
[15:39] <qengho> Sorry, 2010, not 2012
[15:39] <desrt> maybe some postinst script creating the memcache user accidentally forgot to use the supress-homedir-creation flag
[15:40] <qengho> desrt: You're probably right.  That's ~memcache for true.
[15:40] <desrt> does it have the skel contents?
[15:40] <qengho> I feared I had written some test that needed a ENOENT for some weird reason.
[15:41] <qengho> No skel, desrt.
[15:43] <seb128> desrt, hey, any news of that dconf segfault? the qa guys are nervous about it, really...
[15:43] <qengho> Laney: do you have much confidence in that raring armhf daily you mentioned?
[15:44] <Laney> I haven't used any of the armhf dailies
[15:44] <Laney> the raring^
[15:44] <Laney> but it is /supposed/ to work ...
[15:46] <qengho> Laney: Mine doesn't boot it.  The daily from ~10 days ago at least splashed and dumped me to a cramfs shell, but this looks like it's not even bootstrapping.
[15:46] <Laney> desktop? how are you trying to interact with it?
[15:47] <qengho> Laney: interact?  This early, I plug it in and watch the lights.
[15:48] <Laney> like, you have it connected to a monitor via HDMI/DVI and a keyboard/mouse?
[15:48] <qengho> I have HDMI and USB rotational drive and USB keyboard attached, usually, but I tried unplugging all.
[15:49] <qengho> I plug the SD card into this computer and see two partitions that look sane.
[15:51]  * Laney shines ogra_'s logo into the sky
[15:51] <ogra_> yes ?
[15:51] <qengho> ogra_: hi.
[15:51] <qengho> ogra_: I'm trying to boot a raring image on a Pandaboard.  I'm not having much luck so far.
[15:52] <qengho> ogra_: Do you know of a good image, first?
[15:52] <ogra_> hm, i havent booted a panda since a while, how/where does it hang ?
[15:54] <desrt> seb128: lemme look
[15:56] <jasoncwarner> hey bryce, RAOF or mlankhorst , gema has a rather annoying bug. Any of you able to look at it? https://bugs.launchpad.net/ubuntu/+source/xorg-server/+bug/1015183
[15:56] <ubot2> Ubuntu bug 1015183 in xorg-server (Ubuntu) "Inconsistent mouse events for Acer T231H multitouch monitor" [Medium,In progress]
[15:57] <qengho> ogra_: I have a SD card in the SD slot.  I got image from http://cdimage.ubuntu.com/daily-live/current/raring-desktop-armhf+omap4.img.zsync
[15:57] <seb128> time for some exercise, be back in ~1h
[15:57] <qengho> zsync checksummed to verify.
[15:57] <ogra_> right, and you dd'ed that to the SD
[16:00] <qengho> ogra_: yes.  dd appeared to work. That image mounts and looks normal-ish on this computer.
[16:00] <qengho> ogra_: on Panda, which I got splash screen and cramfs shell with another image, now gets solid hearbeat and SD-access lights at power-on.
[16:01] <ogra_> quenwell, sounds like the kernel hangs
[16:01] <ogra_> qengho, ^^^
[16:02] <qengho> ogra_: or never bootstraps at all, yes?
[16:02] <ogra_> qengho, iÄm sure ppisati in #ubuntu-kernel would like to know about that, since he just works on the porting of the kernel to devicetree
[16:03]  * qengho is off to find The Wizard. ...
[16:18] <jasoncwarner> bryce seems it wasn't the right bug before. Gema meant this bug. https://bugs.launchpad.net/ubuntu-nexus7/+bug/1068994
[16:18] <ubot2> Ubuntu bug 1068994 in ubuntu-nexus7 "button1 gets stuck after a while" [Critical,Confirmed]
[16:19] <ogra_> yeah, thats our worst one
[16:19] <ogra_> (not only gemas :) )
[16:21] <desrt> seb128: remind me the bug again?
[16:21] <Laney> desrt: https://bugs.launchpad.net/ubuntu/+source/d-conf/+bug/1105440
[16:21] <ubot2> Ubuntu bug 1105440 in d-conf (Ubuntu) "dconf-service crashed with SIGSEGV in g_variant_is_trusted()" [High,Confirmed]
[16:21] <Laney> (I assume)
[16:33] <desrt> seb128: is there a way that i can download the source package for this without being on raring?
[16:34] <desrt> i start to wonder if it's some case of vendor patching gone wrong...
[16:34] <ogra_> just change your deb-src lines in sources.list
[16:34] <desrt> ah.  true.
[16:34] <ogra_> and run apt-get update
[16:34] <Laney> with ubuntu-dev-tools installed; pull-lp-source <pkg> raring
[16:35] <ogra_> oh that new fashined stuff, yeah
[16:35] <ogra_> *fashioned
[16:35] <Laney> back in your chair, grandpa. :P
[16:35]  * ogra_ hobbles away
[16:54] <desrt> seb128: got it
[16:55] <desrt> seb128: dconf-service goes crashy crashy if you send it a change request containing zero keys to change
[16:55] <desrt> something during login is doing that, i guess
[16:55] <desrt> would love to find out who/what does that
[16:55] <desrt> meanwhile, this should obviously be fixed
[17:13] <seb128> desrt, great, any hint on how to find whatever send that change?
[17:14] <mlankhorst> jasoncwarner: well it would really help to test latest stack from raring first :)
[17:16] <desrt> seb128: making a patch now
[17:17] <desrt> seb128: would be nice to dconf-blame to see who is sending this broken request
[17:17] <desrt> after the fix...
[17:19] <seb128> desrt, will do
[17:19] <seb128> desrt, thanks! ;-)
[17:20] <desrt> network at the hackfest is not so good :(
[17:21] <desrt> http://www.fpaste.org/SDSa/
[17:22] <robru> qengho, hey, just woke up.
[17:22] <robru> qengho, fortunately I read the scrollback before my internet died just now
[17:22] <desrt> seb128: ^ plz test
[17:23] <desrt> dinner time for us.   bye.
[17:26] <qengho> robru: I'm going to try the 10.04 now.
[17:26] <robru> qengho, lucid? really?
[17:27] <qengho> Sorry. No no no.  12.04
[17:27] <robru> ahhhh ok ;-)
[17:29] <robru> qengho, what were you saying about udev switching devices out from under you? I didn't realize that was possible. Can that happen without an underlying hardware plug/unplug event?
[17:31] <qengho> robru: It happens.  I watch it with "udevadm monitor".
[17:31] <seb128> desrt, will do, enjoy dinner
[17:34] <robru> qengho, surely there's a way to verify that the image was copied correctly?
[17:35] <qengho> dd it off, perhaps.
[17:35] <qengho> robru: also, this machine mounts it fine.
[17:36] <robru> qengho, the only trick is that it's a 650MB image and an 8GB SD card... I'll have to look up how to tell dd to only grab x many bytes, with x = the original image size....
[17:37] <qengho> I can truncate.
[17:37] <ogra_> erm
[17:38] <qengho> ogra_: do you know of a 12.04 armhf image that should work?
[17:38] <ogra_> verey released image works
[17:38] <ogra_> *every
[17:38] <qengho> http://cdimage.ubuntu.com/ubuntu-core/releases/12.04/release/
[17:38] <ogra_> core isnt an image
[17:39] <ogra_> and you realyl should only use it for building images around it or for development chroots
[17:39] <ogra_> its is completely unconfigured ... largely the same you get running debootstrap
[17:39] <ogra_> (there arent even any networking bits in it)
[17:39] <sarnold> I used the "pre-installed desktop image" here for my pandaboard without any issues (remarkably straightforward): http://cdimage.ubuntu.com/releases/12.04/release/
[17:39] <ogra_> https://wiki.ubuntu.com/ARM/OMAP
[17:40] <ogra_> (hasnt been updated for 12.10, but the procedure is the same as for 12.04)
[17:41] <robru> sarnold, lots of images on that page... should I be looking at omap3 or omap4?
[17:41] <ogra_> oh, no, i'm lying, 12.04 was still preinstalled
[17:41] <ogra_> 12.10 is just like an x86 iso
[17:41] <sarnold> robru: omap4 for pandaboard
[17:41] <qengho> ogra_: so, the 12.04 preinstalled result will run on the SD card.
[17:42] <ogra_> qengho, definitely
[17:42] <ogra_> we dont relesase stuff that doesnt work ;)
[17:42] <ogra_> (we do release stuff that has bugs admittedly though)
[17:43] <qengho> ogra_: well, hardware doesn't necessarily work with everything. Just asking.
[17:47] <ogra_> qengho, just make sure to follow https://wiki.ubuntu.com/ARM/OmapDesktopInstall
=== dpm-laptop is now known as dpm
[18:03] <robru> qengho, latest raring image not working for me; same failure: shows bootsplash, then screen loses signal / powers down, pandaboard gives heartbeat continuously but nothing happens.
[18:04] <qengho> robru: that sounds familliar, all except no signal.  I was getting cramfs shell.
[18:05] <qengho> robru: I have heard that we should abandon R for now and use P.
[18:05] <robru> qengho, I'm not really familiar with the cramfs shell... but during bootsplash I can hit 'esc' on my keyboard and witness that various booting steps are happening, but then right when you expect lightdm to show up, I get nothing instead.
[18:05] <robru> qengho, yeah, flashing P now
[18:13] <robru> qengho, yeah, so that precise-preinstalled image doesn't boot on my pandaboard. all I get is two solid lights.
[18:13] <robru> followed the instructions exactly, from gunzip to dd to sync.
[18:15] <seb128> robru, what monitor do you have connected on the board? do you use an adaptor dvi->hdmi?
[18:15] <robru> yeah, dvi monitor.
[18:15] <seb128> hum, I think there was a gotcha there
[18:15] <seb128> like pitti and others didn't manage to get that work
[18:15] <ogra_> if the leds are solid from the first second oyu did something wrong
[18:15] <qengho> robru: *Solid* lights, though.
[18:16] <seb128> it might be that your box is working but your connection to the dvi monitor is not
[18:16] <ogra_> robru, you made sure to dd to the device not to a partition ?
[18:16] <robru> qengho, ogra_ seb128 : oh wait, soemthing is happening now. dunno, they were solid for several minutes... now it's booting
[18:16] <robru> ogra_, yeah, definitley dd'd to the device
[18:16] <ogra_> right, if it move on then its fine
[18:17] <robru> hmmm, odd that it would randomly start working now. this has been dogging me all week
[18:17] <ogra_> starting ubiquity can actually leave you with a black screen for quite a while (a minite or two), an SD card is simply a bad medium
[18:18] <ogra_> also if you see something like out of syc from your monitor switching to console and back can fix that
[18:18] <robru> ogra_, do you mean a signal of blackness? or no actual signal? because my monitor would report there was "no signal" and then power down. until now. this is the first time ubiquity would even start
[18:19] <ogra_> well, not sure i dont see such issues, it really depends on the monitor afaik
[18:20] <robru> so, ubiquity is working, only issue is that the screen is way skewed (like it's sending a 4:3 signal and my widescreen is stretching it to fill the screen)
[18:20] <ogra_> what kind of monitor is that ? HD capable ?
[18:21] <robru> ogra_, yep, it's a 1080p, just no HDMI connector, DVI only
[18:21] <ogra_> if the driver doesnt get proper EDID data it falls back to something like 800x600
[18:22] <ogra_> by default it should always use the highest resolution it detects
[18:22] <robru> ogra_, do you think a cable that is HDMI at one end and DVI at the other end would interfere with EDID? I've never had any issues with any other hardware detecting the resolution of this screen. I routinely plug it into my PC and my laptop
[18:22] <ogra_> for some monitors you need to use their auto-adjust functions though
[18:23] <ogra_> (to have the full scxreen pic displayed properly)
[18:23] <ogra_> no, i use such cables here too (but also plain hdmi cables)
[18:27] <kenvandine> robru, i had a terrible time getting hdmi->dvi working on my panda board
[18:27] <kenvandine> so i switched to a monitor with hdmi
[18:28] <kenvandine> i spent hours trying to get it to work... then someone told me it wouldn't
[18:28] <kenvandine> pgraner maybe...
[18:28] <robru> kenvandine, heh. well I unfortunately can't just shell out for a new monitor right now, much as I'd like to... unless the company wants to buy me one ;-)
[18:29] <ogra_> try the "other" HDMI port too ... might be that it is better at reading EDID (or worse)
[18:30] <ogra_> (teh signal is the same on both, just that the plain HDMI socket has sound)
[18:31] <robru> ogra_, which one is the "plain" HDMI port?
[18:32] <robru> right now it's plugged into the one nearer to the USB
[18:32] <ogra_> the one that has HDMI written next to it on the PCB
[18:32] <ogra_> they are labeled
[18:41] <robru> ogra_, yeah, screen is stuck at 1024x768. dunno
[18:41] <robru> ogra_, also, I keep getting "wired network disconnected" notification bubbles... there never was a wired connection, did it wireless from the start. no idea why it keeps freaking out about the wired being disconnected.
[18:41] <ogra_> even when you boot the boatd when plugged into the other port ?
[18:44] <qengho> robru: if you're interested in the udev stuff,  http://paste.ubuntu.com/1590398/
[18:44] <ogra_> robru, the NM messages are a bug thats fixed in an SRU, update :)
[18:44] <robru> ogra_, heh,ok, updatind now
[18:45] <qengho> That's a DD.  At start of dd, "sdb", and at end, sdb is gone and sdc{,1,2} exist.
[18:45] <robru> qengho, oh, no, I didn't see anything like that. I saw one or two little notices but nothing that crazy
[18:45] <qengho> Okay, I'm switching to all new hardware.  I don't trust anything now.  Brb.
[18:46] <robru> qengho, hehe, maybe. although I will admit that I didn't start udevadm until after the dd already started, so maybe I just missed the notices. who knows.
[18:46] <robru> qengho, I gotta run myself, meeting my lady for brunch. back soon
=== Quintasan_ is now known as Quintasan
[19:25] <mterry> bryce, I have an apport crash file for an Xorg crash in our jenkins install for unity daily landing.  Would you mind taking a look at it?
[19:29] <qengho> robru: new harware. All works now.
[19:30] <qengho> Bad (or unsupported) USB adapter or bad (new!) SD card, I guess.
[19:30] <robru> qengho, oh great, glad to hear things are working.
[19:30] <robru> qengho, mine's working now too, not sure what changed, other than the install image. I guess I was just using bad images all along.
[19:31] <robru> so what's the deal with the pandaboard? we're supposed to use it as our primary system? for the purposes of identifying performance issues?
[19:31] <bryce> mterry, alright
[19:31] <qengho> ogra_ may be interested in this.
[19:31] <mterry> bryce, can you get to the jenkins reports?  Else I can link you to a mirror of the crash file
[19:31] <mterry> bryce, does http://10.97.0.1:8080/job/ps-indicators-autopilot-release-testing/label=autopilot-nvidia/ work?
[19:32] <bryce> mterry, nope
[19:32] <qengho> robru: Yes. We make all of Ubuntu awesome by fixing low-power devices too, and it's interesting hardware anwyay.
[19:33] <mterry> bryce, OK.  Try...  http://mterry.name/_usr_bin_Xorg.0.crash
[19:34] <mterry> bryce, there are some PPA packages in that environment, but I believe the X stack is the same.  We just have newer unity packages and such.  Let me see if I can get you a link to the PPA
[19:35] <mterry> bryce, here's the version list for that env: http://pastebin.ubuntu.com/1590518/
[19:36] <qengho> Okay, I lied. This new SD card is throwing IO errors, and that's making fsck on boot think there are things to fix, which is causing a fsck+reboot loop.
[19:37] <seb128> oh, a mterry
[19:37] <mterry> bryce, and the PPA is https://launchpad.net/~ubuntu-unity/+archive/daily-build/+packages
[19:37] <mterry> seb128, "a wild mterry appears"
[19:39] <seb128> mterry, not wild enough to learn to hide when he hears a seb speaking ;-)
[19:39] <mterry> seb128, can I help?
[19:40] <seb128> mterry, if you have spare cycles... ;-)
[19:40] <seb128> mterry, sooooo
[19:40] <seb128> mterry, g-s-d's upstream dropped dbus activation, which is how unity-greeter is starting g-s-d
[19:40] <mterry> seb128, I'm not super spare today, but tomorrow and Friday, I will be
[19:41] <mterry> seb128, hrm
[19:41] <seb128> mterry, not sure how we didn't notice before (I would have expected gtk themes or stuff to be looking weird)
[19:41] <seb128> mterry, janimo pointed it today because the nexus auto-rotate fixes he didn't don't work on the greeter
[19:41] <seb128> mterry, was there any reason to dbus activate g-s-d rather than g_spawn it?
[19:42] <seb128> mterry, that's not a today item, so no worry
[19:43] <mterry> seb128, not especially
[19:43] <mterry> seb128, I can write a patch to switch it up
[19:43] <mterry> seb128, We do a weird "Awake" call to start plugins.  I assume that happens automatically via commandline...  I'll see
[19:44] <mterry> seb128, is there a bug yet?
[19:44] <seb128> mterry, I don't think so, I can open one if you want
[19:44] <mterry> seb128, I'll do it, no worries
[19:44] <seb128> mterry, we can also discuss restoring g-s-d dbus activation if you think we should
[19:44] <seb128> but I think the less patching we do over g-s-d the better...
[19:45] <mterry> seb128, I don't think we need it.  Not sure why they dropped it, but whatever
[19:45] <seb128> mterry, @bug: no, let me open it ;-)
[19:45] <mterry> seb128, OK, Mr. Karma
[19:45] <seb128> lol
[19:46] <mterry> :)
[19:46] <seb128> mterry, it was to spare you work, I will remember to let you the karma next time, will teach me to try to be nice :p
[19:46] <seb128> mterry, http://git.gnome.org/browse/gnome-settings-daemon/commit/?id=b778aad98bf5e1acc9899e757345dcee3a5294fd
[19:46] <mterry> heh
[19:46] <seb128> the commit has some rational
=== Amoz_ is now known as Amoz
[19:48] <seb128> mterry, https://bugs.launchpad.net/ubuntu/+source/unity-greeter/+bug/1110716
[19:48] <ubot2> Ubuntu bug 1110716 in unity-greeter (Ubuntu) "should spawn gnome-settings-daemon directly (dbus activation got dropped by upstream)" [Undecided,New]
[19:49] <seb128> karma \o/
[19:49] <seb128> ;-)
[19:56] <mterry> seb128, :)  working on it now, actually
[19:56] <seb128> mterry, the un-stoppable mike ;-)
[19:58] <bryce> mterry, not getting a good stack trace out of the crash file - http://paste.ubuntu.com/1590572/
[19:59] <bryce> mterry, can jenkins do ubuntu-bug after a crash?  that might be more helpful
[19:59]  * bryce --> lunch, bbiab
[20:03] <mterry> bryce, hm
[20:03] <mterry> bryce, and actually file a bug?
[20:04] <mterry> bryce, there may be non-ubuntu packages involved, which ubuntu-bug hates, eh?
[20:04] <seb128> just get one of the jenkins guys to install the -dbg on the server?
[20:05] <seb128> it's probably going to be easier than having to figure the ubuntu-bug thing
[20:07] <mterry> seb128, does that help with creation of crash files?  (not sure why jenkins having dbg would help)
[20:07] <seb128> mterry, yes, you would get the debug inofs in the dump without need for retracing
[20:08] <mterry> seb128, ooh nice
[20:12] <mterry> bryce, we can install -dbg packages in jenkins if it will help.  Do you figure xserver-xorg-core-dbg and what else would likely be useful in an x crash?
[20:50] <bryce> mterry, libdrm, mesa, the ddx driver
[20:50] <bryce> hard to say for certain without knowing what it's crashing in.
[20:53] <robru> bah, got back from lunch to discover pandaboard heartbeat had stopped. I had updates installing while I left...
[20:53] <bryce> mterry, make sure to pick up dmesg and Xorg.0.log subsequent to the crash, (and jockey details if a proprietary driver is loaded), if you don't want to run ubuntu-bug.  I'd like to also know the exact versions of any X packages involved
[20:56] <bryce> some day we can chat over beers about why automated testing systems ought to be able to generate proper bug reports when they find errors ;-)
[20:57] <robru> ogra_, qengho: so I've rebooted my pandaboard, and it has a heartbeat, but there's no picture on my screen. my screen seems to be toggling back and forth between having a signal and not having a signal, so the pandaboard seems to be repeatedly trying, and failing, to discover my screen. dunno what the hell happened. some update broke it I guess.
[20:59] <bryce> mterry, you may be able to just `python3 /usr/share/apport/package-hooks/source_xorg.py` to get it to spit out  an X report even if there are non-compliant packages installed
[21:04] <mterry> bryce, I think we can run ubuntu-bug.  I didn't realize we could just save it to a file.  We'll do that and include it in the jenkins output artifacts
[21:04] <mterry> bryce, and install some of those dbg packages
[21:04] <mterry> bryce, thanks!
[21:04] <bryce> mterry, cool sounds good
[21:06] <bryce> mterry, if you can repro the crash and log in and attach gdb to it, that would be an alternative way to capture a full backtrace if ubuntu-bug still doesn't pan out
[21:06] <bryce> mterry, meanwhile I'll go through some of the recently reported xserver crashes, maybe we have a dupe crash somewhere
[21:07] <bryce> mterry, btw what's the video driver on the system?  intel?
[21:10] <mterry> bryce, nvidia
[21:11] <bryce> oho
[21:11] <mterry> bryce, sorry, I should have mentioned that earlier
[21:14] <bryce> mterry, no prob, but it does change the nature of the beast.  Gathering a backtrace isn't likely going to work.
[21:14] <qengho> robru: Sad panda.
[21:15] <bryce> guess this explains what was wrong with the core...
[21:15] <mterry> bryce, ah.  I guess that makes sense.  I forgot how nvidia integrates itself in ther
[21:15] <robru> qengho, somebody said DVI monitors aren't really supported, shame how it works with an unpatched 12.04 but updating broke it
[22:29] <ritz> hi, looking to push for an sru - https://bugs.launchpad.net/ubuntu/+source/unity/+bug/806248
[22:30] <ubot2> Ubuntu bug 806248 in unity (Ubuntu Precise) "unity::TimeUtil::TimeDelta returns an int value which overflows after 24 days of uptime" [High,In progress]
[22:30] <ritz> hi, looking to push for an sru - https://bugs.launchpad.net/ubuntu/+source/unity/+bug/806248
[22:32] <ritz> robert_ancell morning
=== m_conley_away is now known as m_conley
=== m_conley is now known as m_conley_away
