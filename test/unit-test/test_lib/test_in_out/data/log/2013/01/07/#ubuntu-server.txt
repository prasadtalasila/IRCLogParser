[01:21] <lifeless> hallyn: have you seen 'No cgroup mounted on the system' from lxc? vanillish quantal server was working in precise, not in Q :(
[01:22] <lifeless> hallyn: (thats from lxc)
[01:22] <lifeless> oh, bah, lifeless wins the redundant statement award today
=== megha is now known as gia
[02:22] <hallyn> lifeless: no, is there a bug with details?  (i've had no trouble on q)
[02:23] <lifeless> hallyn: I'll make one.
[02:23] <lifeless> hallyn: cgroup is mounted, so it has me flummoxed ;)
[02:25] <hallyn> lifeless: thanks
[02:27] <lifeless> hallyn: np :)
[02:30] <Dunitek> Hi, Just curious. What are your applications for Ubuntu Server? I personally mostly use it for LAMP. Done a little bit of virtualization.
[02:32] <SpamapS> Dunitek: its big in the cloud
[02:33] <Dunitek> I see...
[02:33] <lifeless> I use it to warm my room up
[02:34] <Dunitek> lifeless: You must be running it on a Celeron D then.
[02:37] <lifeless> Dunitek: heh, nope, but that wouldn't help ;)
[03:34] <anepanal1ptos> i have loaded enough hard drives from my broken raid array to an ubuntu box (hopeing i can read/recover something) and i issue dmraid -s and dmraid -ay
[03:34] <anepanal1ptos> and i see status : ok
[03:35] <anepanal1ptos> but now i am unaware as to what my next step is, how do i mount this thing?
[03:53] <anepanal1ptos> ok i found it in /dev/mapper/pdc_blahblah
[03:54] <anepanal1ptos> i cant mount it, 'NTFS sig inconsistant' -- however sfdisk /dev/mapper/pdc_blahblah looks good
[03:58] <acdcfan> i've got a question if anyone can help
[03:58] <nickgaw> Hi, Where in ubuntu server does ubuntu store the wireless network name and key so it connects to it upon boot?
[03:59] <anepanal1ptos> nickgaw: /etc/network/interfaces
[03:59] <anepanal1ptos> acdcfan: !ask
[03:59] <nickgaw> when I installed ubuntu server my system has a 1 TB spining hard drive and  8 GB flash drive I installed ubuntu server to the flash portion and used the 1 TB as the home directories is this the best thing to do install the operating system on the flash portion of the drive?
[03:59] <anepanal1ptos> (oh you guys dont have that bot?)
[04:00] <patdk-lap> !ask
[04:00] <ubottu> Please don't ask to ask a question, simply ask the question (all on ONE line and in the channel, so that others can read and follow it easily). If anyone knows the answer they will most likely reply. :-) See also !patience
[04:00] <acdcfan> !ask i did a mount --bind in a users home directory to give them access to a folder on a different drive and while it lists fine over ssh, it doesn't list over vsftp. is there a vsftp setting i need to futz with? i didnt' see anything in the conf that looked promising
[04:00] <ubottu> acdcfan: I am only a bot, please don't think I'm intelligent :)
[04:00] <anepanal1ptos> lol
[04:01] <acdcfan> i tell ya, these bots will never be useful!
[04:01] <anepanal1ptos> nickgaw: im not sure if you're really saving anything?
[04:02] <nickgaw> what is really the point of those drives that have one flash portion and one normal hard drive portion?
[04:02] <anepanal1ptos> so you can 'boot up really fast' and then access your data slower.
[04:02] <acdcfan> cacheing the most used files for quick access?
[04:02] <nickgaw> so me installing the operating system on this portion of the drive is the proper thing to do?
[04:02] <anepanal1ptos> but if you shortstroke that 1TB disk you can also enjoy. simply setup a partition only 120Go in size and you will notice the speed increase.
[04:03] <anepanal1ptos> nickgaw: yes.
[04:03] <anepanal1ptos> would be the flash area, and /home would be the 'disk' area
[04:03] <nickgaw> yes that is how it is setup.
[04:03] <anepanal1ptos>  / would be the flash area** (irc ate it :p )
[04:05] <patdk-lap> 8g seems to be a really really small flash area
[04:06] <nickgaw> do most laptop makers take the warenty of the software into consideration or is it mainly just the hardware?
[04:06] <patdk-lap> dell does software too
[04:06] <patdk-lap> and their normal answer is, reinstall using the recovery cd
[04:07] <nickgaw> this was a samsung laptop but the windows installation was so messed up that I did not really contact them before I reinstalled the operating system ubuntu should my hardware still be covered under any warenty?
[04:09] <nickgaw> and is it bad to run a laptop with the lid closed if it has server software running on it?
[04:10] <TheLordOfTime> i did that in my netbook, but i installed the GUI so I can modify the power settings easily
[04:10] <TheLordOfTime> modified power settings to say "On Lid Close, Do Nothing"
[04:10] <nickgaw> but is it safe as with the lid closed the system still runs fine.
[04:11] <TheLordOfTime> define "safe"
[04:11] <TheLordOfTime> because "Safe" is a relative term.
[04:11] <nickgaw> well does the fan run better with the lid closed
[04:11] <TheLordOfTime> it runs the same regardless.
[04:12] <TheLordOfTime> the fan's ability to cool is not directly related to having the screen open or closed
[04:13] <nickgaw> by default does build-essential install just native 64 bit or can I also compile 32 bit code if this system is a 64 bit system?
[04:13] <TheLordOfTime> not sure how build-essential's affected in multiarch now that ia32-libs doesn't exist, but i usually install the dependent 32bit libraries if i'm compiling 32bit, which is EXTRAORDINARILY rare.
[04:14] <TheLordOfTime> since most things have a 64bit version
[04:15] <nickgaw> how can I tell if the 32 bit stuff is installed?
[06:20] <lifeless> hallyn: https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1096771
[06:20] <uvirtbot`> Launchpad bug 1096771 in lxc "error 'No cgroup mounted on the system' but cgroup mounted" [Undecided,New]
[06:21] <lifeless> bah, gone
[06:26] <uvirtbot`> New bug: #1096771 in lxc (universe) "error 'No cgroup mounted on the system' but cgroup mounted" [Undecided,New] https://launchpad.net/bugs/1096771
[07:40] <freak1> good morning
[07:40] <freak1> i have an ubuntu server question about adding disk space to LVM..
[07:40] <freak1> in short; i'm running ubuntu in a virtual machine
[07:40] <freak1> disk was full
[07:40] <freak1> expanded the disk
[07:40] <freak1> created a new partition
[07:40] <freak1> added that to lvm, exdpanded the volume group over the new partition
[07:41] <freak1> and expanded the partition itself
[07:41] <freak1> all seemed well
[07:41] <freak1> after the reboot, i get the following error
[07:41] <freak1> device-mapper : table : sda 3 too small for target
[07:41] <freak1> when it tries to mount the volume it says the device is busy
[07:42] <freak1> so now i don't know what to do :/
=== smw_ is now known as smw
[08:27] <freak1> good morning
[08:27] <freak1> anyone with LVM knowledge
[08:27] <freak1> and device-mapper : table : sda 3 too small for target
[08:40] <mogaj> Assistance needed Unable to login to Ubuntu Amazon instance through ssh,what am i doing wrong http://pastebin.com/2v9rD4Cq
[09:13] <Daviey> Gooooooooood Morning!
[09:14] <koolhead17> good morning Daviey
[09:26] <jamespage> morning all
[09:29] <gema> jamespage: morning, we've missed you!
[09:29] <jamespage> morning gema!
[09:30] <gema> jamespage: some server test bug coming your way :o)
[09:30] <gema> just a heads up, psivaa has the details
[09:30] <jamespage> oh great
[09:30] <jamespage> :-)
[09:30] <gema> ;)
[09:31] <psivaa> jamespage: this is about the ceph server tests, the tests are failing even with 4G RAM and 40G disks
[09:31] <psivaa> let me findout the specific failures
[09:32] <jamespage> psivaa, rados gateway still looking at the log data
[09:32] <jamespage> hmm
[09:33] <psivaa> jamespage: thanks :) bug 1090504 was opened for it
[09:33] <uvirtbot`> Launchpad bug 1090504 in ubuntu-test-cases "Ceph tests sometimes fail to contact rados gw" [High,Triaged] https://launchpad.net/bugs/1090504
=== smb` is now known as smb
[09:34] <jamespage> psivaa, this is the one we can only repro in the lab
[09:34] <jamespage> I remember now
[09:35] <jamespage> psivaa, added to my list; I may just disable the failing bit for the time being until I can get a chunk of time to focus on it
[09:36] <gema> jamespage: sounds good, since it is likely to be the test case
[09:36] <psivaa> jamespage: ok thanks, it would help if you could disable it sooner, if you are doing it :)
[09:41] <jamespage> psivaa, disabled in the branch - I've not tested but it should pass OK now
[09:42] <psivaa> jamespage: thanks very much, we would know tomorrow when the smoke tests use the new tests. i'll let you know
[09:42] <gema> psivaa: you could run that new version today
[09:42] <jamespage> psivaa, can you not just re-run manually to test? I'd rather clear this today
[09:42] <gema> and see if it lives up to our expectations or if it needs some more tweaking
[09:42] <koolhead17> hola jamespage
[09:43] <koolhead17> seems like we are all back from vacation :)
[09:43] <jamespage> morning koolhead17; happy new year!
[09:43] <koolhead17> jamespage: same to you sir!!
[09:43]  * koolhead17 waiting for zul :)
[09:43] <psivaa> jamespage: gema: let me have a look at it
[10:05] <rbasak> Daviey: what do you think about an SRU to precise for bug 1087145? Will it meet SRU criteria?
[10:05] <rbasak> https://bugs.launchpad.net/squid-deb-proxy/+bug/1087145
[10:07] <Daviey> rbasak: yes, i think it fits it fine
[10:07] <rbasak> OK, I'll prepare one - thanks
[10:07] <Daviey> superb
[10:10] <rbasak> Ugh. No patch system? :-/
[10:10] <Daviey> that is fine, just change it directly
[10:10] <rbasak> Will do
[10:10] <rbasak> Hmm. It's native, too!
[10:29] <psivaa> gema: jamespage: amd64 ceph tests have run green, but only thing is the yaml output is not complete. watching the i386 now
[10:34] <gema> psivaa: is that a problem with cepht tests or with utah?
[10:36] <psivaa> gema: not sure, just waiting to see i386 to finish. also running a separate test to see what's going on
[10:37] <gema> psivaa: ack
[10:48] <blag> Are there still plans to create Bind packages enabled with DLZ for different databases (like it says here: http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=273440 )?
[10:54] <rbasak> Daviey: tested the fix, done the paperwork and MP attached to bug. Would you like to review/upload or shall I wait for a sponsor? Also I don't have the necessary LP-fu to create a bug task for Precise on that bug. https://bugs.launchpad.net/squid-deb-proxy/+bug/1087145
[10:59]  * rbasak wonders what happened to uvirtbot
[11:00] <Daviey> rbasak: give me 30 mins
[11:01] <rbasak> Sure, thanks!
[11:45] <mah454_> Hello
[11:45] <mah454_> I want to make ubuntu ltsp server
[11:46] <mah454_> receive this message :
[11:46] <mah454_> /usr/share/ltsp/plugins/ltsp-build-client/common/010-etc-hosts: line 3: /opt/ltsp/i386/etc/hosts: No such file or directory
[11:47] <mah454_> How can fix it ?
[11:47] <mah454_> I use ubuntu 12.10
[11:52] <AgMo> mah454_: you can create that file manually
[12:04] <mah454_> AgMo: not fixed !
[12:09] <RoyK> mah454_: perhaps try #ltsp
[12:33] <soren> rbasak: I'm moving uvirtbot to a new, more stable home this morning.
[12:33] <rbasak> Oooh, shiny. Thank you!
[12:33] <soren> rbasak: Never imagined anyone would miss it in that short time span :)
[12:34] <evident> hi everybody! If I would like to enable my ubuntu server to be able to send mails (from PHP, e.g. for WordPress), what would I need for that? I don't want IMAP and POP services and that stuff, just to be able to send mails via WordPress...
[12:35] <rbasak> evident: look into nullmailer. Also, somebody did it with Postfix like this: http://askubuntu.com/q/228938/7808
[12:35] <AgMo> evident: you just need to install postfix, eyou could do that even with default config
[12:38] <evident> ok thank you I will have a look at that :)
[12:59] <soren> uvirtbot: Welcome back.
[12:59] <soren> bug 236234
[12:59] <uvirtbot> soren: Error: "Welcome" is not a valid command.
[12:59] <uvirtbot> Launchpad bug 236234 in swh-plugins "Noisy plugins when exporting" [Medium,New] https://launchpad.net/bugs/236234
[13:02] <uvirtbot> rbasak: At your service.
[13:02] <rbasak> Thanks soren!
[13:03] <soren> No problem.
[13:03] <soren> I figured it was time to get rid of my Hardy servers anyway.
[13:03]  * soren has a surprising amount of them
[13:03] <soren> Well, had.
[13:03] <soren> This was the last one.
[13:06] <decci> I need help with installing ubuntu 12.04 on compellent SAN . http://paste.ubuntu.com/1506572/
[13:07] <decci> When I try to install ubuntu 12.04. The installation cannot see the SAN storage device as shown http://tracker.webtechnologyfocused.com.au/ehw/volumesnotdetected.jpg
[13:07] <decci> I believe this could be a driver issue with Ubuntu and may need the driver to see the storage device.
[13:13] <decci> Sorry went offline
[13:13] <decci> sudo apt-get update && sudo apt-get install ceph
[13:13] <decci> sorry
[13:13] <decci> Anyone who can help with installing ubuntu 12.04 on compellent SAN? http://paste.ubuntu.com/1506572/
[13:17] <rbasak> decci: I don't really see the problem. Are you trying to get the installation to pick up your BIOS setup? What happens if you manually configure the NIC and iSCSI target in userspace in the installer?
[13:21] <decci> rbasak: For CentOS 6.3 it works fine. but not for ubuntu 12.04.When I try to install ubuntu 12.04. The installation cannot see the SAN storage device as shown http://tracker.webtechnologyfocused.com.au/ehw/volumesnotdetected.jpg  I believe this could be a driver issue with Ubuntu and may need the driver to see the storage device.
[13:22] <rbasak> So with CentOS, the NIC is configured in BIOS and the driver presents it as a block storage device?
[13:24] <decci> rbasak: yes
[13:24] <rbasak> I see. Have you tried 12.10?
[13:25] <decci> rbasak: I need to use 12.04
[13:25] <decci> rbasak: How can I find what compellent driver is needed?
[13:25] <decci> rbasak: Any idea what could be the missing factor here?
[13:27] <rbasak> Knowing whether it works in 12.10 would help. If it turns out that the driver is simply missing in 12.04, then unless your manufacturer or somebody else has a solution I think you'd need a developer to backport the driver.
[13:28] <decci> rbasak: Are you talking about lsscsi driver
[13:29] <rbasak> I was talking about the driver for your nic/onboard iscsi card. But this is fast going beyond what I can help with without actually looking at your system
[13:39] <zul> good morning
=== cpg is now known as cpg|away
[14:05] <zul> jamespage: new webob coming down the pipe fyi
[14:09] <jamespage> zul, w00t!
[14:19] <zul> yolanda: ping are you packaging python-ceilometerclient?
[14:20] <yolanda> hi, zul, no
[14:20] <yolanda> i'm working on some app that uses it
[14:20] <zul> yolanda: okies
[14:20] <yolanda> but in the near future i should work on it, i think
[14:28] <psivaa> jamespage: the i386 ceph tests are still failing to execute even with the latest changes.
[14:28] <psivaa> radosgw.log https://pastebin.canonical.com/81252/
[14:28] <psivaa> ceph-osd.0.log https://pastebin.canonical.com/81253/
[14:28] <psivaa> ceph-mon.a.log https://pastebin.canonical.com/81250/
[14:28] <psivaa> ceph.log https://pastebin.canonical.com/81249/
[14:29] <psivaa> jamespage: the syslog for the installation is https://pastebin.canonical.com/81255/
[14:44] <nocturn> Hi, I have  Ubuntu 11.10 on a system with softraid.  During apt-get upgrade it asked to change the grub-pc config, which I kept at local.  After that I got a dialog where to isntall grub, listing my HD's and raid device.  Now, I'm not sure if grub installed correctly and if I can reboot the server.  What can I check?
=== slank_away is now known as slank
[14:50] <nocturn> Will it work if I install grub to sda and sdb and not the raid device?
[14:53] <quagliato> Hey guys. Just installed ubuntu server in a machine here. During the installation I had a network down time. Now that my network is back, what can I do to make eth0 get an DHCP IP?
[15:06] <hallyn> stgraber: hm, the /dev/kmsg patch to lxc-devel, i'm actually wondering whether systemd should just be doing readlink /dev/kmsg...  we'll see
[15:07] <stgraber> hallyn: yeah... just reverting the patch is clearly wrong as it'd cause problems with !systemd where a working kmsg is needed (that's not the same as the host)
[15:08] <hallyn> (i replied asking for at least a description fo the error)
[15:20] <zul> jamespage: ping
[15:34] <jamespage> zul, pong
[15:34] <zul> jamespage: just adding nova-cells but you already new that
[15:34] <jamespage> zul, cells == zones right?
[15:34] <zul> jamespage: can you +1 the nova-testr branch
[15:34] <zul> yeah
[15:34] <zul> jamespage: i havent looked how the cells stuff work yet...stupid vacation got in the way
[15:35] <jamespage> zul, damn that annual celebration
[15:35] <jamespage> lol
[15:35] <zul> jamespage: too many times at church
[15:35] <jamespage> zul, I'd forgotten how to type
[15:36] <zul> jamespage: ditto...well not really
[15:37] <zul> but i did forget how to drive
[15:37] <jamespage> zul, lol
[15:38] <jamespage> zul, looking at that branch again now
[15:38] <jamespage> adam_g, I reviewed your changes to the swift charms - all LGTM; I've not merged then into trunk yet - thought you might like the glory!
[15:46] <zastern> Anybody using nginx on Ubuntu 12.04. Have you noticed that the package is a development release?
[15:48] <jamespage> zul, are you dumping nova-cells into that same branch or a new one?
[15:48] <zul> jamespage: newer one
[15:48] <zul> based on the testr-fallout though
=== slank is now known as slank_away
[15:49] <jamespage> zul, OK _ thats approved
[15:50] <zul> jamespage:  asante sana
[15:56] <zul> jamespage: one more https://code.launchpad.net/~zulcss/nova/nova-cells/+merge/142146
=== slank_away is now known as slank
=== gary_poster is now known as gary_poster|away
[16:18] <quagliato> Guys, how can I install a USB printer with cups?
[16:19] <Jeeves_> Plug it in.
[16:19] <Jeeves_> Turn it on
=== gary_poster|away is now known as gary_poster
[16:20] <Jeeves_> On a desktop, that should be enough
[16:46] <quagliato> Jeeves_: It's a server.
[16:46] <quagliato> Jeeves_: But I've already discovered how to do it. Thank you anyway. ;)
[17:03] <longdays_> added a new conf file to /etc/init for an upstart job. The job works but when typing the commnad "service targetjob start" targetjob does not autocomplete like built in jobs. How do I get this functionality to work?
[17:04] <longdays_> autocomplete in bash when typing the command
[17:04] <longdays_> I would like to tab out the command instead of typing out the entire name of the job
[17:12] <jamespage> zul, are we dropping all debian/*.init scripts now?  I'm sure I had a conversation about that with someone (might have been yolanda) before christmas?
=== gary_poster|away is now known as gary_poster
[17:18] <koolhead17> i tried installing latest glance pkg from cloud archive
[17:20] <koolhead17> this is what i got http://paste.ubuntu.com/1507169/
[17:20] <koolhead17> zul, jamespage adam_g is it correct?
[17:21] <jamespage> koolhead17, I think so yes
[17:21] <koolhead17> jamespage, and dpkg failing to remove '/var/log/glance'
[17:21] <koolhead17> after purge>
[17:22] <jamespage> koolhead17, unless the package maintain explicitly does it in the postrm dpkg won't remove it
[17:23] <koolhead17> jamespage, so i have to manually remove the directory if i have to remove trace of glance.
[17:23] <jamespage> yes
[17:23] <koolhead17> that solves my issue. thanks
[17:23] <koolhead17> was working on doc to clean up a install
[17:25] <zul> jamespage: yeah they arent being used or instaled so drop them
[17:25] <zul> makes it easier to find things as well
[17:26]  * koolhead17 bows to zul 
[17:27] <zul> hi koolhead17
[17:27] <koolhead17> zul, hope you had good holiday!!
[17:27] <zul> koolhead17: yep
[17:28] <koolhead17> cool. zul coolbhavi tried to reach you i suppose during holiday. he was stuck and had some questions
[17:29] <zul> koolhead17: oh didnt see it ill reply to him
[17:29] <koolhead17> zul, i was at his place few weeks back to work on repathing that bug
[17:29] <zul> koolhead17: i think that bug is fixed now though
[17:30] <koolhead17> ooh. ok but we would like to know how that magic happnes the packaging so he could help me out with the next/other bugs
[17:33] <jamespage> zul, two trivials - just commit the fixes and merge
[17:33] <zul> jamespage:  k thanks
[18:17] <tedski> any guidance on setting arp interval for bonding?  we're having trouble finding it in the documentation
[18:39] <lifeless> hallyn: https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1096771
[18:39] <uvirtbot> Launchpad bug 1096771 in lxc "error 'No cgroup mounted on the system' but cgroup mounted" [High,Incomplete]
[18:40] <lifeless> oh, incomplete. /me looks
[18:41] <lifeless> hallyn: attached
[18:43] <hallyn> thanks.  (sorry, i wanted to get my mail queue cleared so i could devote more time to your bug, took longer than i expected)
[18:44] <lifeless> hallyn: np at all, I was asleep :)
[18:45] <hallyn> well that was anti-climactic.  (6 lines)
[18:45] <lifeless> yeah
[18:45] <lifeless> debug shows more
[18:46] <lifeless> attaching
[18:47] <hallyn> lifeless: well that doesn't jive with the 'mount' output in description.  what does 'cat /proc/self/mounts' show?
[18:48] <hallyn> you have standard cgroup-lite pkg installed?
[18:49] <lifeless> hallyn: yes, cgroup is in mtab fwiw - and i just rebooted the machine this morning too
[18:50] <lifeless> ls /sys/fs/
[18:50] <lifeless> btrfs  cgroup  ecryptfs  ext4  fuse
[18:50] <lifeless> cgroup is empty
[18:51] <lifeless> ii  cgroup-lite                                           1.5                             all                             Light-weight package to set up cgroups at system boot
[18:51] <lifeless>  sudo service cgroup-lite start
[18:51] <lifeless> start: Job is already running: cgroup-lite
[18:52] <hallyn> lifeless: do you have any cgroup entries in fstab?
[18:53] <hallyn> lifeless: (see /bin/cgroups-mounts for the cases where cgroup-lite decides someone else has already taken care of cgroups, and doesn't mount them)
[18:54] <lifeless> hallyn: afterrunning /bin/cgroups-mounts, lxc works
[18:54] <lifeless> hallyn: (and cgroups is mounted)
[18:56] <adam_g> jamespage: i've consolidated the folsom test jobs in jenkins from {quantal, precise}_folsom_coverage_$foo to a single group of folsom_coverage_$foo. i'd like to get the grizzly ones moved (and running) soon.  would you be able to update the regexp at jenkins.qa.ubuntu.com to pick up the new scheme?
[18:56] <hallyn> lifeless: hm, that does not make sense.  can you show /proc/1/mountinfo?
[18:56] <lifeless> hallyn: done
[18:57] <lifeless> hallyn: if you need me to reboot and do that with pristine contents just say
[18:58] <hallyn> lifeless: is /etc/mtab a symlink to /proc/mounts?
[18:59] <lifeless>  stat /etc/mtab
[18:59] <lifeless>   File: `/etc/mtab'
[18:59] <lifeless> [no]
[18:59] <lifeless> hallyn: its not on my laptop either, but it works there ;)
[19:00] <hallyn> lifeless: so yeah, when convenient, could you reboot, and before doing anything else show contents of /proc/1/mounts and /etc/mtab, and /sys/fs/cgroup?
[19:00] <lifeless> doing so
[19:01] <lifeless> its spinning platters w/raid, so it takes a minute to POST
[19:03] <lifeless> hallyn: done
[19:04] <hallyn> lifeless: fascinating.  so why does /etc/mtab have cgroup entries when /proc/moutns does not?
[19:04] <hallyn> your shutdown is i believe not cleanly umounting the cgroup filesystems, so mtab doesn't get cleared out, so it has those entries in it at boot still?
[19:05] <lifeless> possibly, though thats an Ubuntu feature, no ? :)
[19:05] <lifeless> ls -l /etc/mtab
[19:05] <lifeless> -rw-r--r-- 1 root root 1284 Dec 19 11:38 /etc/mtab
[19:05] <hallyn> except if that was all it was, then manually re-running /bin/cgroups-mount shouldn't work
[19:05] <lifeless> wait, that ls was wrong-machine
[19:05] <lifeless> ls -l /etc/mtab
[19:05] <lifeless> -rw-r--r-- 1 root root 1246 Jan  8 08:02 /etc/mtab
[19:06] <lifeless> is the one thats glitching
[19:06] <lifeless> so mtab is being rewritten
[19:06] <hallyn> lifeless: cat /proc/self/mountinfo?
[19:06] <lifeless> hallyn: on the bug
[19:08] <jamespage> adam_g, sure can
[19:08] <hallyn> lifeless: just to be clear, sudo ls /sys/fs/cgroup gave no error right?  so 'ls -d /sys/fs/cgroup' shows that that dir exists?
[19:08] <lifeless> right
[19:09] <lifeless> on bug now for posterity :)
[19:10] <hallyn> and 'status cgroup-lite' at this point also says it's started, not stopped?
[19:11] <lifeless> yes
[19:11] <lifeless>  status cgroup-lite
[19:11] <lifeless> cgroup-lite start/running
[19:14] <lifeless> hallyn: bit of a puzzler, right ?
[19:16] <RFleming> Greetings!
[19:16] <RFleming> How do I add 256color support to my server terminal?
[19:17] <hallyn> lifeless: a bit.  anything helpful in /var/log/upstart/cgroup-lite.log?
[19:17] <hallyn> i'd gues that somehow mount -t tmpfs is failing...
[19:18] <lifeless> less /var/log/upstart/cgroup-lite.log
[19:18] <lifeless> /var/log/upstart/cgroup-lite.log: No such file or directory
[19:18] <lifeless>  ls -l /var/log/upstart/cg*
[19:18] <lifeless> ls: cannot access /var/log/upstart/cg*: No such file or directory
[19:18] <lifeless> cat /proc/self/mounts | grep tmp
[19:19] <lifeless> udev /dev devtmpfs rw,relatime,size=8129608k,nr_inodes=2032402,mode=755 0 0
[19:19] <lifeless> tmpfs /run tmpfs rw,nosuid,relatime,size=3257152k,mode=755 0 0
[19:19] <lifeless> none /run/lock tmpfs rw,nosuid,nodev,noexec,relatime,size=5120k 0 0
[19:19] <lifeless> none /run/shm tmpfs rw,nosuid,nodev,relatime 0 0
[19:19] <lifeless> none /run/user tmpfs rw,nosuid,nodev,noexec,relatime,size=102400k,mode=755 0 0
[19:20] <Pici> !paste
[19:20] <ubottu> For posting multi-line texts into the channel, please use http://paste.ubuntu.com | To post !screenshots use http://imagebin.org/?page=add | !pastebinit to paste directly from command line | Make sure you give us the URL for your paste - see also the channel topic.
[19:20] <jamespage> adam_g, regex should already capture that - its ".*_folsom_.*"
[19:20] <hallyn> lifeless: your mountinfo (this is a reach) does seem to suggest that proc got mounted after /sys...  which *could* make the test for /proc/cgroups fail
[19:22] <adam_g> jamespage: ah, they are just folsom_.* now
[19:23] <jamespage> adam_g, underscore duly removed
[19:23] <jamespage> that should be OK now
[19:24] <adam_g> jamespage: oh also you might wanna check the deployments.cfg in lp:openstack-ubuntu-testing now. was able to clean it up considerably with some changes to the deployer
[19:24] <lifeless> hallyn: fun :)
[19:31] <jamespage> adam_g, ooo - I see quantum tests now as well!
[19:31] <jamespage> great
[19:32] <jamespage> adam_g, oh - happy new year as well BTW!
[19:32] <hallyn> lifeless: would you mind instrumenting /bin/cgroups-mounts?  an 'echo proc has $(/bin/ls /proc) > /cgroup.debug' at the top of /etc/init/cgroup-lite.conf?
=== Ursinha_ is now known as Ursinha
[19:32] <hallyn> (then rebooting)
[19:33] <adam_g> jamespage: you too :)  i put the quantum stuff in there to help with verification of the current quantal SRUs, with a simple/temporary floating IP test.
[19:33] <jamespage> adam_g, that verifies most of quantum so +1
[19:34] <lifeless> hallyn: like so : author "Serge Hallyn <serge.hallyn@canonical.com>"
[19:34] <lifeless> echo proc has $(/bin/ls /proc) > /cgroup.debug
[19:34] <lifeless> start on mounted MOUNTPOINT=/sys
[19:34] <lifeless>  ?
[19:34] <hallyn> lifeless: no, sorry, not in that file :)
[19:34] <hallyn> rather, in /bin/cgroups-mount, right below 'set -e'
[19:34] <hallyn> i misspoke
[19:34] <lifeless> hallyn: ahha
[19:35] <hallyn> stgraber: were you wanting me to write a patch for your cgroup issue?
[19:36] <stgraber> hallyn: I guess so, but wait until I'm done working around it :)
[19:37] <RoyK> 5
[19:38] <hallyn> stgraber: i can wait.  i'm good at that
[19:38] <lifeless> hallyn: less /cgroup.debug
[19:38] <lifeless> /cgroup.debug: No such file or directory
[19:41] <hallyn> what on earth
[19:41] <lifeless> status cgroup-lite
[19:41] <lifeless> cgroup-lite stop/waiting
[19:41] <lifeless> don't ask me how or why.
[19:41] <hallyn> oh, so my line was probalby bad :)
[19:41] <hallyn> lifeless: how about
[19:41] <hallyn> echo "proc has" > /cgroup.debug
[19:41] <hallyn> /bin/ls /proc >> /cgroup.debug
[19:42] <hallyn> ^ that right under set -e in /bin/cgroups-mount
[19:42] <uvirtbot> hallyn: Error: "that" is not a valid command.
[19:43] <hallyn> lifeless: at least i think we just confirmed that cgroups-mount *is* being run :)
[19:45] <lifeless> hallyn: status cgroup-lite
[19:45] <lifeless> cgroup-lite stop/waiting
[19:45] <lifeless> no file
[19:46] <lifeless> hallyn: cgroups-mount runs ok if i run it at this stage, generates a file
[19:46] <lifeless> hallyn: /bin/ls /foo
[19:46] <lifeless> /bin/ls: cannot access /foo: No such file or directory
[19:46] <lifeless> robertc@lifelessdesktop:~$ echo $?
[19:46] <lifeless> 2
[19:47] <hallyn> lifeless: that seems to suggest that /bin/ls fails bc /proc itself doesn't exist
[19:47] <hallyn> right
[19:47] <lifeless> hallyn: so I think we have evidence that .. yes
[19:47] <hallyn> lifeless: can you add '|| true' to the end of those?  :)
[19:47] <lifeless> I'll put a stat in there
[19:52] <lifeless> hallyn: aieee
[19:53] <lifeless> robertc@lifelessdesktop:~$ ls /cg*
[19:53] <lifeless> ls: cannot access /cg*: No such file or directory
[19:53] <lifeless> robertc@lifelessdesktop:~$ status cgroup-lite
[19:53] <lifeless> cgroup-lite stop/waiting
[19:53] <lifeless> robertc@lifelessdesktop:~$ less /bin/cgroups-mount
[19:53] <lifeless> #!/bin/sh
[19:53] <lifeless> # Copyright 2011 Canonical, Inc
[19:53] <lifeless> # Author: Serge Hallyn <serge.hallyn@canonical.com>
[19:53] <lifeless> set -e
[19:53] <lifeless> echo "proc has" > /cgroup.debug
[19:53] <lifeless> (/usr/bin/stat /proc || echo "No /proc") >> /cgroup.debug
[19:53] <lifeless> (/bin/ls /proc || echo "No /proc") >> /cgroup.debug
[19:53] <lifeless> hallyn: the top echo has to be whats failing now ><
[19:55] <hallyn> your / is still readonly perhaps?
[19:55] <lifeless> perhaps
[19:55] <hallyn> oooh, try echoing into /run/cgroup.debug instead?
[19:58] <lifeless> success
[19:58] <lifeless> hallyn: what did you want to know from /proc ?
[19:58] <hallyn> lifeless: if it's mounted and /proc/cgroups exists
[19:59] <hallyn> (or /proc/mounts for that matter)  trying to figure out at which step /bin/cgroups-mount is bowing out
[20:00] <lifeless>  grep mounts  /run/cgroup.debug
[20:00] <lifeless> mounts
[20:00] <lifeless> robertc@lifelessdesktop:~$ grep cgroup /run/cgroup.debug
[20:00] <lifeless> cgroups
[20:00] <lifeless> hallyn: I'll get all the output of the script, one sec
[20:01] <lifeless> hallyn: exec 2>&1 >/run/cgroup.debug
[20:06] <zul> lifeless: got a question for you how do you run the testsuite for testrepository?
[20:11] <lifeless> zul: make check
[20:11] <lifeless> zul: or testr run
[20:12] <zul> lifeless: cool thanks
[20:13] <RoyK> anyone know an online bacup service supporting linux that sucks a tinly bit less than crashplan?
[20:14] <patdk-wk> royk, wish :(
[20:15] <RoyK> upload speed is about 1Mbps sustaind, with me on 60Mbps symmetric
[20:15] <RoyK> that "free unlimited" is rather !true
[20:15] <lifeless> zul: (thats also in the developers docs :P)
[20:16] <lifeless> zul: etc/nova/rootwrap.d/baremetal_compute_pxe.filters
[20:16] <lifeless> bah
[20:16] <RoyK> since it's limited by the time - I mean - it's free unlimited, if you have a year to upload 10TB
[20:16] <lifeless> zul: http://testrepository.readthedocs.org/en/latest/
[20:16] <lifeless> RoyK: s3?
[20:16] <RoyK> s3?
[20:16] <patdk-wk> royk, I can get alittle over 1.4mbps
[20:16] <patdk-wk> s3 would be amazon
[20:17] <RoyK> lifeless: heh - what would 3TB cost from them? ;)
[20:17] <TheLordOfTime> expensive?
[20:17] <patdk-wk> amazon has a new solution though
[20:17] <lifeless> RoyK: per month? lets see
[20:18] <RoyK> backblaze is good, but they refuse to support linux, even though they brag about portable code
[20:18] <patdk-wk> ya, the only reason I refuse to use backblaze
[20:18] <lifeless> RoyK: http://aws.amazon.com/s3/pricing/
[20:19] <lifeless> RoyK: if you use glacier
[20:19] <patdk-wk> $30 a month :) with glacier
[20:19] <lifeless> 10c/gigabyte-month, *3000 = 30$
[20:19] <lifeless> 300 ?
[20:19] <patdk-wk> 1c you mean
[20:19] <patdk-wk> where you do you get 10c?
[20:20] <lifeless> my brain on mornings.
[20:20] <lifeless> yeah, 1c/ 30dollars
[20:20] <j2b> Are you looking for service, or you're ok with supporting your own VPS?
[20:20] <RoyK> lifeless: add +10% for that to be TiB, not TB
[20:20] <patdk-wk> they *rape* you if you ever need to restore though
[20:20] <lifeless> RoyK: oh noes, what will you do :>
[20:20] <j2b> Restoration is a BIG ISSUE at any online service provideer. THat's why they do not comment on this :)
[20:20] <lifeless> 5c/1000 requests to restore
[20:21] <patdk-wk> $360 to restore 3tb
[20:21] <lifeless> patdk-wk: Glacier Data Restores Free †† <- ?
[20:21] <patdk-wk> free if <1gb per month
[20:21] <patdk-wk> .12c per gb >1gb and <10tb
[20:21] <RoyK> that's nice - first you pay $340 or so for 3TiB backup per month and then the same for restore
[20:22] <j2b> There is a business, not in getting data :)
[20:22] <patdk-wk> no $30 per month for storage, $360 for restore
[20:22] <j2b> Right
[20:22] <lifeless> patdk-wk: http://aws.amazon.com/s3/faqs/#How_much_data_can_I_restore_for_free
[20:22] <j2b> Or the other way, you can not support all this stuff for 30$
[20:22] <patdk-wk> lifeless, we where talking glacier
[20:22] <patdk-wk> http://aws.amazon.com/glacier/#pricing
[20:22] <lifeless> patdk-wk: suggests restoring 140GB would cost 21 dollars
[20:22] <lifeless> patdk-wk: that link I just gave is for glacier
[20:24] <patdk-wk> lifeless, no, that is only s3 <-> glacier
[20:24] <patdk-wk> not source to anything other than s3
[20:24] <patdk-wk> so you would have additional charges of downloading from s3 then
[20:24] <patdk-wk> IF all your data was within ec2/ebs/s3 to start, yes, cheap, if not, screwed :)
[20:25] <lifeless> patdk-wk: I don't understand - http://aws.amazon.com/glacier/faqs/#How_much_data_can_I_retrieve_for_free *also* claims ~20 dollars
[20:25] <lifeless> patdk-wk: and makes no reference to being ->s3
[20:25] <patdk-wk> yes, but what you linked is only covering restoring TO s3
[20:26] <RoyK> patdk-wk: any idea what bandwidth they have, IRL?
[20:26] <patdk-wk> the start of each answer says s3
[20:26] <patdk-wk> royk, who?
[20:26] <RoyK> glacier
[20:26] <lifeless> patdk-wk: no it doesn't
[20:26] <lifeless> patdk-wk: we must be reading different things
[20:27] <lifeless> patdk-wk: the only s3 references on that page are 'How should I choose between Amazon Glacier and Amazon S3?'
[20:27] <patdk-wk> your in a S3 faq,
[20:27] <patdk-wk> "You can restore up to 5% of the Amazon S3 data stored in Amazon Glacier for free each month"
[20:27] <lifeless> patdk-wk: http://aws.amazon.com/glacier/faqs/#How_much_data_can_I_retrieve_for_free
[20:27] <lifeless> patdk-wk:   ^^ glacier faq
[20:27] <patdk-wk> well you posted the s3 one :)
[20:27] <patdk-wk> <lifeless> patdk-wk: http://aws.amazon.com/s3/faqs/#How_much_data_can_I_restore_for_free
[20:27] <lifeless> patdk-wk: yes, and then when you pointed that out, dug up the glacier one
[20:28] <lifeless> which uses the same calculations
[20:28] <lifeless> and does -not- talk about s3
[20:28] <patdk-wk> ya, that is strange
[20:28] <patdk-wk> the pricing table clearly says 12c per gb though
[20:29] <patdk-wk> royk, no idea, but it's amazon, I would expect atleast gigabit to the servers
[20:29] <lifeless> the http://aws.amazon.com/glacier/faqs/#How_will_I_be_charged_when_retrieving_large_amounts_of_data_from_Amazon_Glacier answer is what covers this
[20:30] <RoyK> heh - so 5% free each month, but calculated by the hour, meaning you'll have to manually throttle restore?
[20:30] <patdk-wk> ya
[20:30] <lifeless> hallyn: ok, got some details
[20:30] <patdk-wk> the 21.40 price for 140g works out to 15.4c per gb
[20:31] <RoyK> or perhaps they have a throttle service
[20:31] <RoyK> gods know
[20:31] <smoser> utlemming, http://aws.amazon.com/about-aws/whats-new/2012/12/21/introducing-the-aws-command-line-interface/
[20:31] <lifeless> hallyn: this gets you a good trace from the script:
[20:31] <lifeless> set -e
[20:31] <lifeless> exec 2>&1 1>/run/cgroup.debug
[20:31] <lifeless> exec 2>&1 1>>/run/cgroup.debug
[20:31] <lifeless> set -x
[20:31] <smoser> that'd be nice to have.
[20:33] <lifeless> hallyn: all in the bug
[20:40] <hallyn> lifeless: thanks
[20:42] <hallyn> lifeless: this is ridiculous!  :)  so they are being mounted at boot?  but /sys perhaps gets remounted over the result?  what else is in /etc/init and /etc/init.d?
[20:44] <lifeless> hallyn: in bug
[20:50] <hallyn> lifeless: dpkg -l | grep cgroup-bin ?
[20:51] <lifeless> dpkg -l | grep cgroup-bin
[20:51] <lifeless> ii  cgroup-bin                                0.38-1ubuntu1                              amd64        Tools to control and monitor control groups
[20:52] <hallyn> lifeless: any chance you could purge that and see if it's fixed?
[20:52] <lifeless> hallyn: sudo apt-get purge cgroup-bin ?
[20:52] <lifeless> lol yes
[20:52] <lifeless> doing
[20:52]  * hallyn tries installing it here to see what I get
[20:54] <hallyn> lifeless: in fact cgroup-bin no longer ships the init.d files
[20:54] <hallyn> my guess is a package upgrade didn't remove those (bc they're conffiles)?
[20:55] <lifeless> hallyn: \o/
[20:55] <hallyn> phew
[20:55] <lifeless> hallyn: need a conflicts ?
[20:55] <lifeless> or breaks?
[20:55] <hallyn> lifeless: or something.  yeah.  it didn't occur to me that the /etc/init/ files would not get deleted.  That was supposed to be the fix.
[20:56] <hallyn> lifeless: actually this really sucks, bc the whole point was to NOT have to remove the pkg
[20:56] <lifeless> hallyn: well, it was ii, not cc
[20:56] <hallyn> but breaks/replaces won't help, since that still won't cause the initscripts to be replaced
[20:57] <lifeless> ah fair enough
[20:57] <hallyn> lifeless: if you now apt-get install cgroup-bin, it should all be fine
[20:57] <lifeless> issue with putting too much logic in the init scripts
[20:57] <hallyn> (some ppl want its admin tools)
[20:57] <lifeless> you could update the init scripts to call /bin /sbin stuff
[20:57] <lifeless> or update them to be empty
[20:57]  * lifeless speculates heaps :0
[20:57] <hallyn> lifeless: in cgroup-bin you mean?
[20:58] <hallyn> yeah i think that's the best idea, thanks.
[20:58] <lifeless> yeah. Make them harmless.
[20:58] <lifeless> if someone has removed the package but not purged, they will still have issue
[20:58] <lifeless> but folk with the package installed will get the update
[20:59] <hallyn> lifeless: can i repurpose yoru bug for this? :)
[21:01] <lifeless> hallyn: sure
[21:01] <lifeless> hallyn: I'm happy, I might unsubscribe ;)
[21:01] <hallyn> lifeless: lol  thanks much, ttyl
[21:01] <lifeless> hallyn: *thank you*
[21:06] <Daviey> adam_g: hey, can i just check you didn't do anything with CA Grizzly status page?
[21:20] <renegade_ray> I'm banging my head on this one. I'm running 3.0.0-24-server and am trying to clear out the /boot but when I run apt-get purge on one of the installed kernels I get an error "Depends: linux-image-3.0.0-29-server but it is not going to be installed" but when I try to install 3.0.0-29-server there is a device full error because /boot is full. Anyone have a suggestion?
[21:24] <sarnold> renegade_ray: sometimes the Right Answer is to remove the package that Depends upon the package that isn't installed and isn't going to be installed.
[21:25] <sarnold> renegade_ray: it can sometimes be difficult to figure out exactly what you want.. but perhaps dpkg --purge is an easier tool to use until you've cleared some space
[21:30] <renegade_ray> OK, I'll give that a try. Thanks
[21:45] <renegade_ray> Used aptitude to clear out bad dependencies. Able to clear out /boot and now running apt-get upgrade with no errors. Thank you.
[22:10] <adam_g> Daviey: what do you mean?
[22:12] <paco1> hello masters!
[22:13] <paco1> i have a question with the dns: how to reduce the time to send my zones between the master dns server and the slave dns server?
[22:13] <paco1> thanks in advance!
[22:17] <sarnold> paco1: I think you're looking for the "refresh value": http://docstore.mik.ua/orelly/networking_2ndEd/dns/ch08_04.htm
[22:24] <adam_g> Daviey: thought you were going to setup the cronjobs to get the reports generated. i can do it, but can't seem to find where the folsom jobs are
=== cpg|away is now known as cpg
[23:22] <SpaceBass> hey folks
[23:22] <SpaceBass> I've got a static IP set in /etc/network/interfaces and it will work for about 12 hours, but always reverts back to a DHCP address - this is 12.04, never had this problem before
[23:23] <SpaceBass> http://pastebin.ca/2300251
[23:24] <sarnold> SpaceBass: do you have a dhcpcd or network manager running?
[23:24] <SpaceBass> sarnold, not on this box
[23:26] <mikeey> I don't know if this question will fit in here or if I should take it to #Netfilter, however; can you get past an iptables firewall?
[23:26] <mikeey> if everything is locked down, can you get past it
[23:31] <SpaceBass> mikeey, are you asking how secure it is?
[23:32] <mikeey> I am asking whether there is any possibility to get past the firewall if it is configured correctly with all ports closed; so yes
[23:32] <SpaceBass> mikeey, I think it's generally regarded to be strong, with two caveats: correct configuration and exploits
[23:32] <SpaceBass> and those are two big "ifs"
